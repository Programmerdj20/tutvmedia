---
import MainLayout from '../layouts/MainLayout.astro';
import Hero from '../components/Hero.astro';
import MovieCarousel from '../components/MovieCarousel.astro';
import WhyChooseUs from '../components/WhyChooseUs.astro';
import PricingSection from '../components/PricingSection.astro';
import { getTrendingMovies } from '../services/tmdb';

// Obtener películas trending
const trendingMovies = await getTrendingMovies('week');
---

<MainLayout title="TutvMedia - Películas y Series" description="Descubre películas y series populares con TutvMedia">
	<!-- Hero Principal -->
	<Hero />

	<!-- Películas en Tendencia -->
	{
		trendingMovies.results.length > 0 && (
			<MovieCarousel
				title="En Tendencia Esta Semana"
				subtitle="Lo más visto en los últimos 7 días"
				movies={trendingMovies.results}
			/>
		)
	}

	<!-- Sección ¿Por qué elegirnos? -->
	<WhyChooseUs />

	<!-- Sección de Planes -->
	<PricingSection />
</MainLayout>
